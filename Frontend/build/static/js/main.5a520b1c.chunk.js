(this["webpackJsonppro-shop"]=this["webpackJsonppro-shop"]||[]).push([[0],{101:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c(19),n=c.n(r),s=(c(72),c(73),c(103)),i=c(13),j=c(6),o=c(44),l=c(109),d=c(110),u=c(1),b=function(){return Object(u.jsx)("header",{children:Object(u.jsx)(l.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)(o.LinkContainer,{to:"/",children:Object(u.jsx)(l.a.Brand,{children:"ProShop"})}),Object(u.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(d.a,{className:"ml-auto",children:[Object(u.jsx)(o.LinkContainer,{to:"/cart",children:Object(u.jsxs)(d.a.Link,{children:[Object(u.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),Object(u.jsx)(o.LinkContainer,{to:"/login",children:Object(u.jsxs)(d.a.Link,{children:[Object(u.jsx)("i",{className:"fas fa-user"})," Sign in"]})})]})})]})})})},O=c(104),h=c(63),p=function(){return Object(u.jsx)("footer",{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(O.a,{children:Object(u.jsx)(h.a,{className:"text-center py-3 main",children:"Copyright \xa9 ProShop"})})})})},x=c(16),f=c(112),m=function(t){var e=t.value,c=t.text,a=t.color;return Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:Object(u.jsx)("i",{style:{color:a},className:e>=1?"fas fa-star":e>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(u.jsx)("span",{children:Object(u.jsx)("i",{style:{color:a},className:e>=2?"fas fa-star":e>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(u.jsx)("span",{children:Object(u.jsx)("i",{style:{color:a},className:e>=3?"fas fa-star":e>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(u.jsx)("span",{children:Object(u.jsx)("i",{style:{color:a},className:e>=4?"fas fa-star":e>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(u.jsx)("span",{children:Object(u.jsx)("i",{style:{color:a},className:e>=5?"fas fa-star":e>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(u.jsx)("span",{children:c&&c})]})};m.defaultProps={color:"#f8e825"};var g=m,v=function(t){var e=t.product;return Object(u.jsxs)(f.a,{className:"p-3 rounded my-3",children:[Object(u.jsx)(i.Link,{to:"/products/".concat(e._id),children:Object(u.jsx)(f.a.Img,{src:e.image,variant:"top"})}),Object(u.jsxs)(f.a.Body,{children:[Object(u.jsx)(i.Link,{to:"/products/".concat(e._id),children:Object(u.jsx)(f.a.Title,{as:"div",children:Object(u.jsx)("strong",{children:e.name})})}),Object(u.jsx)(f.a.Text,{as:"div",children:Object(u.jsx)(g,{value:e.rating,text:"".concat(e.numReviews," reviews")})}),Object(u.jsxs)(f.a.Text,{as:"h3",children:["$",e.price]})]})]})},y=c(105),I={width:"100px",height:"100px",margin:"auto",display:"block"},S=function(){return Object(u.jsx)(y.a,{animation:"border",role:"status",style:I,children:Object(u.jsx)("span",{children:"Loading..."})})},k=c(111),C=function(t){var e=t.variant,c=t.children;return Object(u.jsx)(k.a,{variant:e,children:c})};C.defaultProps={variant:"danger"};var T=C,L=c(24),w=c.n(L),N=c(30),_=c(31),E=c.n(_),P="PRODUCT_LIST_REQUEST",D="PRODUCT_LIST_SUCCESS",R="PRODUCT_LIST_FAIL",A="PRODUCT_DETAILS_REQUEST",U="PRODUCT_DETAILS_SUCCESS",F="PRODUCT_DETAILS_FAIL",B="CART_ADD_ITEMS",q="CART_REMOVE_ITEMS",J=function(){var t=Object(x.b)(),e=Object(x.c)((function(t){return t.productList})),c=e.loading,r=e.error,n=e.products;return Object(a.useEffect)((function(){t(function(){var t=Object(N.a)(w.a.mark((function t(e){var c,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:P}),t.next=4,E.a.get("/api/products");case 4:c=t.sent,a=c.data,e({type:D,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:R,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"LATEST PRODUCTS"}),c?Object(u.jsx)(S,{}):r?Object(u.jsx)(T,{children:"Something went wrong"}):Object(u.jsx)(O.a,{children:n.map((function(t){return Object(u.jsx)(h.a,{sm:12,md:6,lg:4,xl:3,children:Object(u.jsx)(v,{product:t},t._id)})}))})]})},$=c(26),M=c(67),G=c(106),Q=c(107),H=c(113),V=c(108),W=function(t){var e=t.history,c=t.match,r=Object(a.useState)(1),n=Object(M.a)(r,2),s=n[0],j=n[1],o=Object(x.b)(),l=Object(x.c)((function(t){return t.productDetails})),d=l.loading,b=l.error,p=l.product;Object(a.useEffect)((function(){var t;o((t=c.params.id,function(){var e=Object(N.a)(w.a.mark((function e(c){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:A}),e.next=4,E.a.get("/api/products/".concat(t));case 4:a=e.sent,r=a.data,c({type:U,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:F,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[o,c]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.Link,{to:"/",children:Object(u.jsx)(G.a,{className:"btn btn-primary my-3",children:"Go Back"})}),d?Object(u.jsx)(S,{}):b?Object(u.jsx)(T,{children:b}):Object(u.jsxs)(O.a,{children:[Object(u.jsx)(h.a,{md:6,children:Object(u.jsx)(Q.a,{src:p.image,alt:p.name,fluid:!0})}),Object(u.jsx)(h.a,{md:3,children:Object(u.jsxs)(H.a,{variant:"flush",children:[Object(u.jsx)(H.a.Item,{children:Object(u.jsx)("h3",{children:p.name})}),Object(u.jsxs)(H.a.Item,{children:[" ",Object(u.jsx)(g,{value:p.rating,text:"".concat(p.numReviews," reviews")})]}),Object(u.jsxs)(H.a.Item,{children:["Price : $",p.price]}),Object(u.jsxs)(H.a.Item,{children:["Description : $",p.description]})]})}),Object(u.jsx)(h.a,{md:3,children:Object(u.jsx)(f.a,{children:Object(u.jsxs)(H.a,{variant:"flush",children:[Object(u.jsx)(H.a.Item,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(h.a,{children:"Price :"}),Object(u.jsx)(h.a,{children:Object(u.jsx)("strong",{children:p.price})})]})}),Object(u.jsx)(H.a.Item,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(h.a,{children:"Status :"}),Object(u.jsx)(h.a,{children:p.countInStock>0?"In Stock":"Out Of Stock"})]})}),p.countInStock>0&&Object(u.jsx)(H.a.Item,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(h.a,{children:"Qty"}),Object(u.jsx)(h.a,{children:Object(u.jsx)(V.a.Control,{as:"select",value:s,onChange:function(t){return j(t.target.value)},children:Object($.a)(Array(p.countInStock).keys()).map((function(t){return Object(u.jsx)("option",{value:t+1,children:t+1},t+1)}))})})]})}),Object(u.jsx)(H.a.Item,{children:Object(u.jsx)(G.a,{className:"btn-block",type:"button",disabled:0===p.countInStock,onClick:function(){e.push("/cart/".concat(c.params.id,"?qty=").concat(s))},children:"Add To Cart"})})]})})})]})]})},Y=function(t,e){return function(){var c=Object(N.a)(w.a.mark((function c(a,r){var n,s;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,E.a.get("/api/products/".concat(t));case 3:n=c.sent,s=n.data,a({type:B,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:e}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems)),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(t,e){return c.apply(this,arguments)}}()},z=function(t){var e=t.match,c=t.location,r=t.history,n=e.params.id,s=c.search?Number(c.search.split("=")[1]):1,j=Object(x.b)(),o=Object(x.c)((function(t){return t.cart})).cartItems,l=function(t){j(function(t){return function(e,c){try{e({type:q,payload:t}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}catch(a){console.log(a)}}}(t))};return Object(a.useEffect)((function(){n&&j(Y(n,s))}),[j,n,s]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsxs)(h.a,{md:8,children:[Object(u.jsx)("h1",{children:"SHOPPING CART"}),0===o.length?Object(u.jsxs)(T,{children:["Your Cart is empty ",Object(u.jsx)(i.Link,{to:"/",children:"Go back"})]}):Object(u.jsx)(H.a,{variant:"flush",children:o.map((function(t){return Object(u.jsx)(H.a.Item,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(h.a,{md:3,children:Object(u.jsx)(Q.a,{src:t.image,alt:t.name,fluid:!0,rounded:!0})}),Object(u.jsx)(h.a,{md:2,children:Object(u.jsx)(i.Link,{to:"/products/".concat(t.product),children:t.name})}),Object(u.jsxs)(h.a,{md:2,children:["$",t.price]}),Object(u.jsx)(h.a,{md:2,children:Object(u.jsx)(V.a.Control,{as:"select",value:t.qty,onChange:function(e){return j(Y(t.product,Number(e.target.value)))},children:Object($.a)(Array(t.countInStock).keys()).map((function(t){return Object(u.jsx)("option",{value:t+1,children:t+1},t+1)}))})}),Object(u.jsx)(h.a,{md:2,children:Object(u.jsx)(G.a,{type:"button",variant:"light",onClick:function(){return l(t.product)},children:Object(u.jsx)("i",{className:"fas fa-trash"})})})]})},t.product)}))})]}),Object(u.jsx)(h.a,{md:4,children:Object(u.jsx)(f.a,{children:Object(u.jsx)(H.a,{children:Object(u.jsxs)(H.a.Item,{children:[Object(u.jsxs)("h2",{children:["SubTotal (",o.reduce((function(t,e){return t+e.qty}),0),") items"]}),Object(u.jsxs)("h3",{children:["$",o.reduce((function(t,e){return t+e.qty*e.price}),0).toFixed(2)]}),Object(u.jsx)(G.a,{type:"button",className:"btn btn-block",disabled:0===o.lenght,onClick:function(){r.push("/login?redirect=shipping")},children:"Proceed To Checkout"})]})})})})]})})},K=function(){return Object(u.jsxs)(i.BrowserRouter,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("main",{className:"py-3",children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)(j.d,{path:"/",component:J,exact:!0}),Object(u.jsx)(j.d,{path:"/products/:id",component:W}),Object(u.jsx)(j.d,{path:"/cart/:id?",component:z})]})}),Object(u.jsx)(p,{})]})},X=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,114)).then((function(e){var c=e.getCLS,a=e.getFID,r=e.getFCP,n=e.getLCP,s=e.getTTFB;c(t),a(t),r(t),n(t),s(t)}))},Z=c(21),tt=c(65),et=c(66),ct=c(8),at=Object(Z.combineReducers)({productList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case P:return Object(ct.a)(Object(ct.a)({},t),{},{loading:!0,products:[]});case D:return Object(ct.a)(Object(ct.a)({},t),{},{products:e.payload,loading:!1});case R:return Object(ct.a)(Object(ct.a)({},t),{},{loading:!1,error:e.payload});default:return t}},productDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{review:[]}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return Object(ct.a)(Object(ct.a)({},t),{},{loading:!0});case U:return Object(ct.a)(Object(ct.a)({},t),{},{loading:!1,product:e.payload});case F:return Object(ct.a)(Object(ct.a)({},t),{},{loading:!1,error:e.payload});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case B:var c=e.payload,a=t.cartItems.find((function(t){return t.product===c.product}));return a?Object(ct.a)(Object(ct.a)({},t),{},{cartItems:t.cartItems.map((function(t){return t.product===a.product?c:t}))}):Object(ct.a)(Object(ct.a)({},t),{},{cartItems:[].concat(Object($.a)(t.cartItems),[c])});case q:return Object(ct.a)(Object(ct.a)({},t),{},{cartItems:t.cartItems.filter((function(t){return t.product!==e.payload}))});default:return t}}}),rt={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},nt=Object(Z.createStore)(at,rt,Object(et.composeWithDevTools)(Object(Z.applyMiddleware)(tt.a)));n.a.render(Object(u.jsx)(x.a,{store:nt,children:Object(u.jsx)(K,{})}),document.getElementById("root")),X()},72:function(t,e,c){},73:function(t,e,c){}},[[101,1,2]]]);
//# sourceMappingURL=main.5a520b1c.chunk.js.map